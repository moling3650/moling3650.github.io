var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a,t)=>new Promise(((l,s)=>{var r=e=>{try{o(t.next(e))}catch(a){s(a)}},n=e=>{try{o(t.throw(e))}catch(a){s(a)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,n);o((t=t.apply(e,a)).next())}));import{r as u,u as c,d as i,j as d,k as f,l as p,c as m,e as _,i as y,w as h,f as v,h as b,m as g,t as x,p as w,F as P,q as k,s as O,v as j,x as F,y as C,z as D,g as S,_ as z,A as I,b as E,n as T,B as q}from"./index-CAg8MUCo.js";import{h as A}from"./http.D7yJduP5.js";const B=i({__name:"request",setup(e){const a=u("http://laf.run/signup?code=ohaOgIX"),{loading:t,data:l,run:s}=function(e,a={immediate:!1}){const t=u(!1),l=u(!1),s=u(a.initialData),r=()=>o(this,null,(function*(){return t.value=!0,e().then((e=>(s.value=e.data,l.value=!1,s.value))).catch((e=>{throw l.value=e,e})).finally((()=>{t.value=!1}))}));return a.immediate&&r(),{loading:t,error:l,data:c(s),run:r}}((()=>{return e="菲鸽",A.get("/foo",{name:e});var e}),{immediate:!0,initialData:void 0}),r=()=>{};return(e,n)=>{const o=y,u=d(p("wd-button"),f);return _(),m(o,{class:"p-6 text-center"},{default:h((()=>[v(o,{class:"my-2"},{default:h((()=>[b("使用的是 laf 云后台")])),_:1}),v(o,{class:"text-green-400"},{default:h((()=>[b("我的推荐码，可以获得佣金")])),_:1}),v(o,{class:"my-2"},{default:h((()=>[g("a",{class:"my-2",href:c(a),target:"_blank"},x(c(a)),9,["href"])])),_:1}),v(u,{onClick:c(s),class:"my-6"},{default:h((()=>[b("发送请求")])),_:1},8,["onClick"]),v(o,{class:"h-16"},{default:h((()=>[c(t)?(_(),m(o,{key:0},{default:h((()=>[b("loading...")])),_:1})):(_(),w(P,{key:1},[v(o,{class:"text-xl"},{default:h((()=>[b("请求数据如下")])),_:1}),v(o,{class:"text-green leading-8"},{default:h((()=>[b(x(JSON.stringify(c(l))),1)])),_:1})],64))])),_:1}),v(u,{type:"error",onClick:r,class:"my-6",disabled:!c(l)},{default:h((()=>[b("重置数据")])),_:1},8,["disabled"])])),_:1})}}}),J=`${k()}`;function N(e={}){const{formData:c={},maxSize:i=5242880,accept:d=["*"],fileType:f="image",success:p,error:m}=e,_=u(!1),y=u(null),h=u(null),v=({tempFilePath:e,size:a})=>{a>i?F({title:`文件大小不能超过 ${i/1024/1024}MB`,icon:"none"}):(_.value=!0,function(e){o(this,arguments,(function*({tempFilePath:e,formData:a,onSuccess:t,onError:l,onComplete:s}){C({url:J,filePath:e,name:"file",formData:a,success:e=>{try{const a=e.data;t(a)}catch(a){l(a)}},fail:e=>{l(e)},complete:s})}))}({tempFilePath:e,formData:c,onSuccess:e=>{const{data:a}=JSON.parse(e);h.value=a,null==p||p(a)},onError:e=>{y.value=e,null==m||m(e)},onComplete:()=>{_.value=!1}}))};return{loading:_,error:y,data:h,run:()=>{const e={count:1,success:e=>{let a="",t=0;a=e.tempFilePaths[0],t=e.tempFiles[0].size,v({tempFilePath:a,size:t})},fail:e=>{y.value=e,null==m||m(e)}};var o;"image"===f?O(e):j((o=((e,a)=>{for(var t in a||(a={}))s.call(a,t)&&n(e,t,a[t]);if(l)for(var t of l(a))r.call(a,t)&&n(e,t,a[t]);return e})({},e),a(o,t({type:"all"}))))}}}const $=z(i({__name:"upload",setup(e){const{loading:a,data:t,run:l}=N();return(e,s)=>{const r=d(p("wd-button"),f),n=y,o=S;return _(),m(n,{class:"p-4 text-center"},{default:h((()=>[v(r,{onClick:c(l)},{default:h((()=>[b("选择图片并上传")])),_:1},8,["onClick"]),c(a)?(_(),m(n,{key:0,class:"text-blue h-10"},{default:h((()=>[b("上传...")])),_:1})):(_(),w(P,{key:1},[v(n,{class:"m-2"},{default:h((()=>[b("上传后返回的接口数据：")])),_:1}),v(n,{class:"m-2"},{default:h((()=>[b(x(c(t)),1)])),_:1}),v(n,{class:"h-80 w-full"},{default:h((()=>[c(t)?(_(),m(o,{key:0,src:c(t).url,mode:"scaleToFill"},null,8,["src"])):D("",!0)])),_:1})],64))])),_:1})}}}),[["__scopeId","data-v-b609a220"]]),M=z(i({__name:"about",setup(e){const{safeAreaInsets:a}=I();return(e,t)=>{const l=q,s=y,r=E("layout-tabbar-uni");return _(),m(r,null,{default:h((()=>[v(s,null,{default:h((()=>{var e;return[v(s,{class:"bg-white overflow-hidden pt-2 px-4",style:T({marginTop:(null==(e=c(a))?void 0:e.top)+"px"})},{default:h((()=>[v(s,{class:"text-center text-3xl mt-8"},{default:h((()=>[b(" 鸽友们好，我是 "),v(l,{class:"text-red-500"},{default:h((()=>[b("菲鸽")])),_:1})])),_:1}),v(s,{class:"test-css"},{default:h((()=>[b("测试 scss 样式")])),_:1}),v(B),v($)])),_:1},8,["style"])]})),_:1})])),_:1})}}}),[["__scopeId","data-v-6ef2b588"]]);export{M as default};
