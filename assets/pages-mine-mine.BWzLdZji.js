var e=(e,a,l)=>new Promise(((s,A)=>{var t=e=>{try{o(l.next(e))}catch(a){A(a)}},n=e=>{try{o(l.throw(e))}catch(a){A(a)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,n);o((l=l.apply(e,a)).next())}));import{d as a,ao as l,ab as s,r as A,az as t,a as n,c as o,w as r,b as i,j as c,k as u,l as d,e as f,f as m,i as h,n as g,u as p,h as b,p as B,z as x,F as w,a1 as C,g as v,S as I,t as k,an as E,ai as U,_ as Q}from"./index-BbxKa2b4.js";import{g as y,c as H}from"./login.BhCzwrgk.js";import{E as S}from"./ExTabbar.2xBa_uvM.js";import{u as z}from"./useSafeAreaInsets.BcBi1lHa.js";import"./http.DVMRom7v.js";const F=Q(a({__name:"mine",setup(a){const{safeAreaInsets:Q}=z(),F=l(),T=s(),R=A([]);function j(){U({phoneNumber:"4006755178"})}return t((()=>e(this,null,(function*(){if(!F.phone)return void n({url:"/pages/login/login"});const{data:e}=yield y({phone:F.phone});R.value=e.records})))),(a,l)=>{const s=h,A=v,t=c(d("wd-button"),u),n=i("layout-default-uni");return f(),o(n,null,{default:r((()=>[m(s,{class:"overflow-hidden h-screen bg-[#f6f6f6]"},{default:r((()=>{var a;return[m(s,{class:"mx-4 text-black",style:g({marginTop:(null==(a=p(Q))?void 0:a.top)+"px"})},{default:r((()=>[m(s,{class:"fw-semibold leading-10"},{default:r((()=>[b("REMAX 途途守护")])),_:1})])),_:1},8,["style"]),m(s,{class:"list-wrap overflow-hidden px-6 rounded-6 mx-4 mt-2 mb-5 bg-white"},{default:r((()=>[(f(!0),B(w,null,C(p(R),((a,l)=>(f(),o(s,{key:a.id,class:"flex my-6"},{default:r((()=>[m(s,{class:"overflow-hidden w-[124rpx] h-[124rpx] rounded-full"},{default:r((()=>[m(A,{src:a.photo,class:"w-full h-full",mode:"scaleToFill"},null,8,["src"])])),_:2},1024),m(s,{class:I(["flex-1 ml-5 border border-b-solid border-b-[#e6e6e6]",{"border-b-0":l===p(R).length-1}])},{default:r((()=>[m(s,{class:"leading-relaxed fw-semibold"},{default:r((()=>[b(k(a.type)+"防丢码",1)])),_:2},1024),m(s,{class:"flex-between-center mt-3 mb-6"},{default:r((()=>[m(t,{size:"small",plain:"",hairline:"",onClick:e=>function({phone:e,deviceSn:a,type:l}){E({url:`/pages/form/form?phone=${e}&deviceSn=${a}&type=${l}`})}(a)},{default:r((()=>[b("编辑")])),_:2},1032,["onClick"]),m(t,{size:"small",plain:"",hairline:"",onClick:l=>function(a){T.confirm({msg:"是否解除绑定",cancelButtonText:"取消",confirmButtonText:"解除绑定",cancelButtonProps:{size:"large"},confirmButtonProps:{type:"error",size:"large"}}).then((()=>e(this,null,(function*(){yield H(a),R.value=R.value.filter((e=>e.id!==a))})))).catch((()=>{}))}(a.id)},{default:r((()=>[b("解绑")])),_:2},1032,["onClick"]),m(t,{size:"small",onClick:e=>function(e){E({url:`/pages/mine/gps?sn=${e.deviceSn}`})}(a)},{default:r((()=>[b("查看位置")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["class"])])),_:2},1024)))),128)),0===p(R).length?(f(),o(s,{key:0,class:"my-6 text-center"},{default:r((()=>[b("暂无绑定的防丢码")])),_:1})):x("",!0)])),_:1}),m(s,{class:"overflow-hidden px-6 py-1 rounded-6 m-4 text-base/relaxed bg-white"},{default:r((()=>[m(s,{class:"flex items-center"},{default:r((()=>[m(A,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGXSURBVHgBxVeBbcJADDxQB8gIv0GzAdmg3aAdoRvABrBB6ATQCaATlE6QbBA6AbX7/8iNgng7iXLSSVEk+/yO7fhnSEdGfCYuiDnRhXeMM7EmnohH4kd4NwgccUNsiBcFy2BrBp9urRTt4hIGOGI1gHhkBUU28oHFZRD5PXE3knhyJiziJXx3bBVBZF3iS+OJJA6Jduu2uDOIM79afnYKWycNt8YAmG/BRwHdrNhE8ayHeB9ysNkcvoCmwN9of4BPnQY849/hC/AHfv7X8PXgoMMCwVCbuh3+t1IO/Se4FnFjNH4SAbwafbC2uYicCEDTfm3aUydgFb9wF1gWh0/xXMCOMwdQQ4+9eO7TxjUH8A0davi1K2IBO07zlrMUHMUzt2L8x1s+5TE60bTii3BQhHclbOvbdZZsFEZFK4ADfB1oxUvhR/U7lgMo2laGAFzLT3IWWCzeC5awTdIVOpBh3H1QHuAmHCZeShmTruVjZSLp5F1YDSDOxZ2hBxz0S2sThN095zOkI17PC+Ijbl/P+U+5R+Jo/gWl/U8PUJQafAAAAABJRU5ErkJggg==",class:"w-4 h-4",mode:"scaleToFill"}),m(s,{class:"flex-1 py-4 border border-b-solid border-[#e6e6e6] ml-4"},{default:r((()=>[b("使用说明")])),_:1})])),_:1}),m(s,{class:"flex items-center",onClick:j},{default:r((()=>[m(A,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFFSURBVHgB7VexEYJAENxRC7CEtwIt4VMzO9DMUDuQEuhAOtDQjBIcMzPsQDvQuwEHPJ6Hf0QTdmYDwPX27k/uBNwwJm6IMTEhPjPes3v8TKEDKGJUCFjHPb5oZIk0w6cjWbNFS+w8Akvu4IkNqjMLiSuizrhAekRJhca5Egrmsh+QNqJNF1aY0HDAwfAFgYM+MOjjpmJtEIdwh6kSuokwEiI+1zH8IHuiURXk2S/hjy3KVbAmMzMIFPzBwWRCuviBgRAocX3L6IuHQT8rXoxE0CnKBtriIoIqiERtb7HGPx0LIluMAf6M3kBvoDfQG6gz4DuGvwJ+Dbcdx62gkS+hCn/Ce61KujIxrHl+Ik6Qr94833m8cm+siXPkqznfu6IjBPjcEWOYx2un/cJLxRn2/eGIH4CNVP1X3ONH4H5IUN6eFBzxAj/TuoQEchqRAAAAAElFTkSuQmCC",class:"w-4 h-4",mode:"scaleToFill"}),m(s,{class:"flex-1 py-4 ml-4"},{default:r((()=>[b("联系客服")])),_:1})])),_:1})])),_:1}),m(S,{active:"mine"})]})),_:1})])),_:1})}}}),[["__scopeId","data-v-4f69a39c"]]);export{F as default};
